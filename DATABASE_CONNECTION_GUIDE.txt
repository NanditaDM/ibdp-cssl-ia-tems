HOW TO CONNECT TO A LIVE DATABASE
==================================

CURRENT STATE: Your app stores data in memory (RAM). When you refresh the page, all data is lost.

GOAL: Connect to a database so data persists permanently.

=== IMPORTANT NOTE ===
For your IBDP CS IA, you do NOT need a real database. The examiner evaluates:
- Code quality and OOP concepts (which you have ✓)
- Functionality (which works ✓)
- NOT whether it connects to a real database

However, if you want to add database functionality, here are your options:

=== OPTION 1: FIREBASE (EASIEST - RECOMMENDED) ===

Firebase is Google's free cloud database service. No server needed!

Step 1: Create Firebase Account
--------------------------------
1. Go to: https://firebase.google.com/
2. Click "Get Started"
3. Sign in with your Google account
4. Click "Create a project"
5. Name it "TEAMS-M" or similar
6. Follow the setup wizard

Step 2: Enable Firestore Database
----------------------------------
1. In Firebase Console, click "Firestore Database"
2. Click "Create database"
3. Choose "Start in test mode" (for development)
4. Select your region (closest to you)
5. Click "Enable"

Step 3: Get Firebase Configuration
-----------------------------------
1. Click the gear icon > Project settings
2. Scroll down to "Your apps"
3. Click the web icon (</>)
4. Register your app (name it "TEAMS-M")
5. Copy the firebaseConfig object (you'll need this!)

Step 4: Add Firebase to Your Project
-------------------------------------
Open login.html and add BEFORE the closing </head> tag:

<script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-firestore.js"></script>

Step 5: Initialize Firebase
----------------------------
Create a new file: firebase-config.js

const firebaseConfig = {
  apiKey: "YOUR_API_KEY",
  authDomain: "YOUR_PROJECT.firebaseapp.com",
  projectId: "YOUR_PROJECT_ID",
  storageBucket: "YOUR_PROJECT.appspot.com",
  messagingSenderId: "YOUR_SENDER_ID",
  appId: "YOUR_APP_ID"
};

// Initialize Firebase
firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();

(Replace with YOUR config from Step 3)

Step 6: Update app.js to Use Firebase
--------------------------------------
Instead of arrays, save to Firebase:

// OLD CODE (in-memory):
this.#users.push(newUser);

// NEW CODE (Firebase):
db.collection('users').add({
    userID: newUser.getUserID(),
    name: newUser.getFullName(),
    email: newUser.getEmail()
    // ... other fields
});

Step 7: Load Data from Firebase
--------------------------------
// Load users when app starts
db.collection('users').get().then((snapshot) => {
    snapshot.forEach((doc) => {
        const data = doc.data();
        // Recreate user objects
        const user = new Employee(data.userID, data.name, ...);
        this.#users.push(user);
    });
});

PROS:
✓ Free (up to certain limits)
✓ No server needed
✓ Easy to set up
✓ Real-time updates
✓ Good for school projects

CONS:
✗ Requires internet connection
✗ Data visible in Firebase console (not fully private)

=== OPTION 2: LOCALSTORAGE (SIMPLE - NO INTERNET NEEDED) ===

LocalStorage saves data in the browser. Data persists even after closing browser.

Step 1: Update app.js Save Methods
-----------------------------------
// Save users to localStorage
saveUsers() {
    const usersData = [];
    for (let i = 0; i < this.#users.length; i++) {
        usersData.push({
            id: this.#users[i].getUserID(),
            name: this.#users[i].getFullName(),
            email: this.#users[i].getEmail(),
            type: this.#users[i].constructor.name
            // ... add all fields you need
        });
    }
    localStorage.setItem('users', JSON.stringify(usersData));
}

Step 2: Load from LocalStorage
-------------------------------
loadUsers() {
    const usersData = localStorage.getItem('users');
    if (usersData) {
        const parsed = JSON.parse(usersData);
        for (let i = 0; i < parsed.length; i++) {
            const user = parsed[i];
            // Recreate user objects based on type
            if (user.type === 'Employee') {
                this.#users.push(new Employee(...));
            }
            // ... etc for other types
        }
    } else {
        this.initUsers(); // Create default users
    }
}

Step 3: Call Save After Every Change
-------------------------------------
// After logging attendance
logAttendance(userID, lateReason) {
    // ... existing code ...
    this.saveUsers(); // ADD THIS
    this.saveAttendances(); // ADD THIS
}

Step 4: Load on App Start
--------------------------
constructor() {
    this.#users = [];
    // ... other arrays ...
    this.loadUsers(); // Instead of this.initUsers()
}

PROS:
✓ Very simple
✓ No internet needed
✓ Works offline
✓ No account/setup needed
✓ Free

CONS:
✗ Data only saved on one computer/browser
✗ Limited storage (5-10MB typically)
✗ Can be cleared if user clears browser data

=== OPTION 3: MYSQL DATABASE (ADVANCED - REQUIRES SERVER) ===

This requires a backend server (Node.js, PHP, etc.)

YOU WILL NEED:
1. A server (your computer or hosting service)
2. MySQL database installed
3. Backend language (Node.js recommended)
4. API to connect frontend to database

This is MUCH more complex and NOT recommended for IB CS IA unless you're very experienced.

Basic Steps (Overview):
1. Install Node.js on your computer
2. Install MySQL database
3. Create database tables
4. Create API endpoints (using Express.js)
5. Update your frontend to call these API endpoints

I can help with this if you really want it, but it's overkill for your IA.

=== OPTION 4: JSON FILE (SIMPLE BUT LIMITED) ===

Save data to a JSON file on the server.

PROBLEM: JavaScript in browser cannot write to files on the computer for security reasons.

You would need:
1. A simple backend server (Node.js)
2. File system access
3. API endpoints to read/write JSON files

Not recommended for beginners.

=== MY RECOMMENDATION FOR YOUR IA ===

1. FOR DEMONSTRATION/IA SUBMISSION:
   - Keep it as-is (in-memory storage)
   - Explain in your documentation that you understand database concepts
   - Focus on the OOP implementation and features (which are excellent)

2. IF YOU WANT DATA PERSISTENCE:
   - Use LocalStorage (Option 2) - Simplest
   - Takes 30 minutes to implement
   - No account/setup needed

3. IF YOU WANT TO IMPRESS:
   - Use Firebase (Option 1)
   - Takes 1-2 hours to implement
   - Real cloud database
   - Good for your portfolio

=== WHAT YOUR EXAMINER CARES ABOUT ===

For IBDP CS IA, examiners look for:
✓ Problem identification (you have this)
✓ Solution design (you have this)
✓ OOP implementation (you have this - excellent!)
✓ Testing and evaluation (you can do this)
✗ NOT whether it connects to a real database

Database connection is a "nice to have" but NOT required.

=== IF YOU WANT ME TO IMPLEMENT DATABASE ===

Tell me which option you prefer:
1. LocalStorage (simple, offline)
2. Firebase (cloud, requires account)
3. MySQL (complex, requires server)

I can implement any of these for you. For your IA, I recommend:
- Keep as-is and explain database concepts in documentation, OR
- Add LocalStorage for simple data persistence

=== SAMPLE CODE FOR LOCALSTORAGE (QUICK IMPLEMENTATION) ===

I can create a file called "database-adapter.js" that handles all saving/loading
automatically. You would just need to:

1. Include the file in your HTML
2. Call save() after each data change
3. Call load() when app starts

Want me to create this for you? It would take 10 minutes to implement.

=== QUESTIONS TO ASK YOURSELF ===

1. Do you need data to persist? (If just for demo, probably not)
2. Will multiple people use this? (If yes, need cloud database)
3. How much time do you want to spend? (LocalStorage = 30 min, Firebase = 2 hours)
4. Is this for learning or just to pass IA? (Learning = Firebase, Pass = keep as-is)

Let me know what you decide and I'll help implement it!
