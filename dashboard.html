<!DOCTYPE html>
<html>

<head>
    <title>T.E.M.s - Dashboard</title>
    <style>
        body {
            font-family: Arial;
            margin: 0;
            padding: 0;
        }

        .header {
            background: #007bff;
            color: white;
            padding: 15px;
            display: flex;
            justify-content: space-between;
        }

        .nav {
            background: #f0f0f0;
            padding: 10px;
        }

        .nav button {
            margin: 5px;
            padding: 8px 15px;
            cursor: pointer;
        }

        .content {
            padding: 20px;
        }

        .hidden {
            display: none;
        }

        input,
        select,
        textarea {
            margin: 5px 0;
            padding: 5px;
        }

        button {
            padding: 8px 15px;
            margin: 5px;
            cursor: pointer;
        }

        table {
            border-collapse: collapse;
            width: 100%;
            margin-top: 10px;
        }

        table,
        th,
        td {
            border: 1px solid black;
        }

        th,
        td {
            padding: 8px;
            text-align: left;
        }

        .section {
            margin: 20px 0;
            padding: 15px;
            border: 1px solid #ccc;
        }
    </style>
</head>

<body>
    <div class="header">
        <div id="userInfo"></div>
        <button onclick="logout()">Logout</button>
    </div>

    <div class="nav" id="navigation"></div>

    <div class="content">
        <!-- employee sections -->
        <div id="logAttendance" class="hidden section">
            <h3>Log Attendance</h3>
            <label>Late Reason (if applicable):</label>
            <input type="text" id="lateReason" placeholder="Leave empty if on time">
            <button onclick="submitAttendance()">Log Attendance</button>
            <div id="attendanceMsg"></div>
        </div>

        <div id="requestLeave" class="hidden section">
            <h3>Request Leave</h3>
            <div id="leaveDaysDisplay" style="background: #f0f0f0; padding: 10px; margin-bottom: 15px;">
                <strong>Leave Info:</strong><br>
                Sick Days Taken: <span id="sickDaysTaken">--</span><br>
                Personal Days Remaining: <span id="personalDaysRemaining">--</span>
            </div>
            <label>Type:</label>
            <select id="leaveType">
                <option>Sick</option>
                <option>Personal</option>
                <option>Half Day</option>
            </select>
            <label>Reason:</label>
            <textarea id="leaveReason" rows="3" required placeholder="Reason for leave..."></textarea>
            <button onclick="submitLeaveRequest()">Submit Request</button>
            <div id="leaveMsg"></div>
        </div>

        <div id="openTicket" class="hidden section">
            <h3>Open IT Ticket</h3>
            <label>Description:</label>
            <textarea id="ticketDescription" rows="3" required placeholder="Describe the issue..."></textarea>
            <button onclick="submitTicket()">Submit Ticket</button>
            <div id="ticketMsg"></div>
        </div>

        <div id="reportHR" class="hidden section">
            <h3>Submit Report</h3>
            <label>Target User ID:</label>
            <input type="number" id="targetUserId">
            <label>Type:</label>
            <select id="reportType">
                <option>Behavior</option>
                <option>Attendance</option>
            </select>
            <label>Description:</label>
            <textarea id="reportDescription" rows="3" required
                placeholder="Details of the report..."></textarea>
            <button onclick="submitReport()">Submit Report</button>
            <div id="reportMsg"></div>
        </div>

        <div id="logClient" class="hidden section">
            <h3>Add Client</h3>
            <label>Client Name:</label>
            <input type="text" id="clientName" required>
            <label>Client Email (optional):</label>
            <input type="email" id="clientEmail">
            <button onclick="submitClient()">Add Client</button>
            <div id="clientMsg"></div>
        </div>

        <div id="logBreak" class="hidden section">
            <h3>Log Break</h3>
            <label>Break Type:</label>
            <select id="breakType">
                <option>Breakfast</option>
                <option>Lunch</option>
                <option>Tea time</option>
                <option>Personal Emergency</option>
            </select>
            <button onclick="startBreak()">Start Break</button>
            <button onclick="endBreak()">End Break</button>
            <div id="breakMsg"></div>
        </div>

        <div id="logMeeting" class="hidden section">
            <h3>Log Meeting</h3>
            <label>Client Email:</label>
            <input type="email" id="meetingClientEmail" required placeholder="Enter client email to look up">
            <label>Meeting Date/Time:</label>
            <input type="datetime-local" id="meetingDateTime" required>
            <label>Pincode (if outside office):</label>
            <input type="text" id="meetingPincode" maxlength="6" placeholder="Leave empty if in-office">
            <label>Travel Time (hours, if outside office):</label>
            <input type="number" id="meetingTravelTime" step="0.5">
            <button onclick="submitMeeting()">Log Meeting</button>
            <div id="meetingMsg"></div>
        </div>

        <div id="viewHistory" class="hidden section">
            <h3>History</h3>
            <div id="historyContent"></div>
            <button onclick="prevPage()">Previous</button>
            <span id="pageNum">Page 1</span>
            <button onclick="nextPage()">Next</button>
        </div>

        <div id="viewNotifications" class="hidden section">
            <h3>Notifications</h3>
            <div id="notifContent"></div>
        </div>

        <!-- manager sections -->
        <div id="viewFlagged" class="hidden section">
            <h3>Flagged Employees</h3>
            <div id="flaggedContent"></div>
        </div>

        <div id="viewRequests" class="hidden section">
            <h3>Leave Requests</h3>
            <div id="requestsContent"></div>
        </div>

        <div id="viewTickets" class="hidden section">
            <h3>IT Tickets</h3>
            <div id="ticketsContent"></div>
        </div>

        <div id="sendNotification" class="hidden section">
            <h3>Send Notification</h3>
            <label>Recipient Department:</label>
            <select id="notifRecipientDept">
                <option>All</option>
                <option>Sales</option>
                <option>Acquisition</option>
                <option>HR</option>
                <option>IT</option>
            </select>
            <label>Message:</label>
            <textarea id="notifMessage" rows="3" required></textarea>
            <button onclick="sendNotif()">Send</button>
            <div id="notifMsg"></div>
        </div>

        <div id="viewEmployees" class="hidden section">
            <h3>View Employees</h3>
            <div id="employeesContent"></div>
        </div>

        <div id="bookMeeting" class="hidden section">
            <h3>Book Meeting with Employee</h3>
            <label>Employee ID:</label>
            <input type="number" id="meetingEmployeeID">
            <label>Meeting Date/Time:</label>
            <input type="datetime-local" id="managerMeetingDateTime">
            <label>Purpose:</label>
            <input type="text" id="meetingPurpose">
            <label>Location:</label>
            <select id="meetingLocationManager">
                <option>Manager's Office</option>
                <option>Employee's Desk</option>
                <option>Conference Room</option>
                <option>Virtual</option>
            </select>
            <button onclick="submitManagerMeeting()">Book Meeting</button>
            <div id="managerMeetingMsg"></div>
        </div>

        <div id="viewEmployeeMeetings" class="hidden section">
            <h3>Employee Meeting Logs</h3>
            <div id="employeeMeetingsContent"></div>
        </div>

        <div id="viewClients" class="hidden section">
            <h3>Client List</h3>
            <div id="clientsContent"></div>
        </div>

        <div id="updateClient" class="hidden section">
            <h3>Update Client</h3>
            <label>Client ID:</label>
            <input type="number" id="updateClientId" readonly>
            <label>Client Name:</label>
            <input type="text" id="updateClientName" required>
            <label>Client Email (optional):</label>
            <input type="email" id="updateClientEmail">
            <button onclick="submitUpdateClient()">Update Client</button>
            <div id="updateClientMsg"></div>
        </div>

        <!-- HR sections -->
        <div id="viewReports" class="hidden section">
            <h3>HR Reports</h3>
            <div id="reportsContent"></div>
        </div>

        <div id="viewTrends" class="hidden section">
            <h3>HR Trends Dashboard</h3>
            <div id="trendsContent"></div>
        </div>

        <div id="viewHRMeetings" class="hidden section">
            <h3>HR Meeting Requests</h3>
            <div id="hrMeetingsContent"></div>
        </div>

        <!-- Employee sections for HR meeting request -->
        <div id="requestHRMeeting" class="hidden section">
            <h3>Request Meeting with HR</h3>
            <label>Purpose:</label>
            <textarea id="hrMeetingPurpose" rows="3" placeholder="Describe the purpose of the meeting..."></textarea>
            <button onclick="submitHRMeetingRequest()">Request Meeting</button>
            <div id="hrMeetingRequestMsg"></div>
        </div>

        <!-- IT sections -->
        <div id="itTickets" class="hidden section">
            <h3>IT Tickets Dashboard</h3>
            <div id="itTicketsContent"></div>
        </div>

        <div id="addUser" class="hidden section">
            <h3>Add New User</h3>
            <label>Name:</label>
            <input type="text" id="newUserName" required>
            <label>Email:</label>
            <input type="email" id="newUserEmail" required>
            <label>Password:</label>
            <input type="password" id="newUserPassword" required>
            <label>Role:</label>
            <select id="newUserRole" onchange="updateManagerVisibility()">
                <option>Employee</option>
                <option>Manager</option>
                <option>HR</option>
                <option>IT</option>
            </select>
            <label>Department:</label>
            <select id="newUserDept">
                <option>Sales</option>
                <option>Acquisition</option>
                <option>HR</option>
                <option>IT</option>
            </select>
            <div id="managerGroup">
                <label>Assign to Manager:</label>
                <select id="newUserManager">
                    <!-- populated dynamically -->
                </select>
            </div>
            <label>Phone (optional):</label>
            <input type="text" id="newUserPhone">
            <button onclick="submitNewUser()">Add User</button>
            <div id="addUserMsg"></div>
        </div>

        <!-- CEO sections -->
        <div id="ceoStats" class="hidden section">
            <h3>CEO Dashboard - Statistics</h3>
            <div id="statsContent"></div>
        </div>
    </div>

    <script src="User.js"></script>
    <script src="Record.js"></script>
    <script src="app.js"></script>
    <script src="dashboard.js"></script>
</body>

</html>
