<!DOCTYPE html>
<html>

<head>
    <title>Test T.E.A.Ms.M</title>
</head>

<body>
    <h1>Testing T.E.A.Ms.M Application</h1>
    <div id="testResults"></div>

    <script src="User.js"></script>
    <script src="Record.js"></script>
    <script src="app.js"></script>
    <script>
        // test script
        let results = "";

        // test 1: login
        results += "<h3>Test 1: Login</h3>";
        const loginResult = app.login("ceo_neha@turtlemint.com", "NehaCEO@2025");
        results += "Login result: " + (loginResult.success ? "SUCCESS" : "FAILED") + "<br>";
        results += "User: " + loginResult.user.name + " (" + loginResult.user.type + ")<br>";

        // test 2: log attendance
        results += "<h3>Test 2: Log Attendance</h3>";
        const attResult = app.logAttendance("EMP001", "");
        results += "Attendance logged: " + (attResult.success ? "SUCCESS" : "FAILED") + "<br>";

        // test 3: request leave
        results += "<h3>Test 3: Request Leave</h3>";
        const leaveResult = app.requestLeave("EMP001", "Sick", "Day leave", "1", "I am sick");
        results += "Leave requested: " + (leaveResult.success ? "SUCCESS" : "FAILED") + "<br>";

        // test 4: open ticket
        results += "<h3>Test 4: Open Ticket</h3>";
        const ticketResult = app.openTicket("EMP001", "Login Error", "Cannot login", "Office 101");
        results += "Ticket opened: " + (ticketResult.success ? "SUCCESS" : "FAILED") + "<br>";

        // test 5: get history
        results += "<h3>Test 5: Get History</h3>";
        const history = app.getUserHistory("EMP001");
        results += "History items: " + history.length + "<br>";

        // test 6: get notifications
        results += "<h3>Test 6: Get Notifications</h3>";
        const notifs = app.getNotifications("MGR001");
        results += "Notifications: " + notifs.length + "<br>";

        // test 7: CEO stats
        results += "<h3>Test 7: CEO Stats</h3>";
        const stats = app.getCEOStats();
        results += "Flagged employees: " + stats.flaggedEmployees + "<br>";
        results += "Late today: " + stats.lateToday + "<br>";

        document.getElementById('testResults').innerHTML = results;
    </script>
</body>

</html>